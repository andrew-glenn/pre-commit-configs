fail_fast: false
minimum_pre_commit_version: 2.6.0
repos:
- hooks:
  - entry: ./utils/generate_ci_config.py --cache-dir ~/.cache/pre-commit --metadata-file-out
      configs/metadata.json --config configs/pre-commit-ci-config.yaml --input .pre-commit-config.yaml
      --output output/pre-commit-config-ci-generated.yaml
    id: generate-pre-commit-ci-config
    language: script
    name: Geneate pre-commit config for CI usage
    pass_filenames: false
    stages:
    - manual
  repo: local
- hooks:
  - id: check-added-large-files
  - id: check-case-conflict
  - id: check-merge-conflict
  - id: check-executables-have-shebangs
  - id: check-json
  - id: check-merge-conflict
  - id: check-symlinks
  - id: check-vcs-permalinks
  - id: check-xml
  - id: check-yaml
  repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v4.0.1
- hooks:
  - id: terraform_fmt
  - id: terraform_validate
  - args:
    - --args=--config=.terraform-docs.yaml
    id: terraform_docs
  - id: terraform_providers_lock
  - args:
    - --args=--config=.tflint.hcl
    - --args=-f json
    id: terraform_tflint
    log_file: /tmp/YW50b25iYWJlbmtvL3ByZS1jb21taXQtdGVycmFmb3JtLnRlcnJhZm9ybV90ZmxpbnQ.tflint
  - args:
    - --args=--custom-check-dir=.tfsec
    id: terraform_tfsec
  repo: https://github.com/antonbabenko/pre-commit-terraform
  rev: v1.62.0
- hooks:
  - files: templates/.*(\.template)?\.(yaml|yml|json)$
    id: qs-cfn-lint
  repo: https://github.com/aws-quickstart/qs-cfn-lint-rules
  rev: main
